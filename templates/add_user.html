{% extends 'base.html '%}

{% block content %}

{% for message in get_flashed_messages() %}

    <div class="alert alert-success  alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>


{% endfor %}

{% if name %}
    <h1> Hello {{ name }}</h1>

{% else %}
<h1> Add User </h1>
<br>
<form method="POST">
    {{ form.hidden_tag() }}

    {{ form.name.label(class="form-label") }}
    {{ form.name(class="form-control") }}

    {{ form.email.label(class="form-label") }}
    {{ form.email(class="form-control") }}

    {{ form.favorite_color.label(class="form-label") }}
    {{ form.favorite_color(class="form-control") }}

    {{ form.password.label(class="form-label") }}
    {{ form.password(class="form-control") }}

    {{ form.password_confirm.label(class="form-label") }}
    {{ form.password_confirm(class="form-control") }}
    <br>
    {{ form.submit(class="btn btn-primary") }}
</form>

<h1> Click user name to update </h1>
{% for our_user in our_users %}
   <a href="{{ url_for('update', id=our_user.id) }}">{{ our_user.username }} </a> ,
    {{ our_user.email }},  {{ our_user.favorite_color }} <-
    <a href="{{ url_for('delete', id=our_user.id) }}"> Delete </a> |
{% endfor %}

{% endif %}
{% endblock %}